var U=Object.defineProperty;var R=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var O=(i,s,o)=>s in i?U(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,j=(i,s)=>{for(var o in s||(s={}))z.call(s,o)&&O(i,o,s[o]);if(R)for(var o of R(s))K.call(s,o)&&O(i,o,s[o]);return i};import{d as M,G as P,v as Q,x as W,o as N,e as E,g as a,w as r,h as e,f as C,j as l,m as V,b as X,H as Y,l as f,k as Z,I as m,J as tt}from"./index.1c477afc.js";import{u as et}from"./users.6fdb30fb.js";import{C as st,a as c}from"./c-table.15f3f737.js";import{_ as ot}from"./user-link.5255b4f4.js";import"./load.b9090f49.js";const nt={class:"divide-y"},at=C("h2",{class:"mb-4"},"\u6210\u5458",-1),ut={class:"font-600"},rt={key:0},lt={class:"mt-4 pt-4"},ct={class:"text-gray-400"},_t=M({setup(i){var x,T;const s=P(),o=String((x=s.query.sort)!=null?x:"\u6700\u8FD1\u901A\u8FC7"),q=String((T=s.query.order)!=null?T:"desc"),b=Q(X),w=t=>{const h=t.submissions.length,_=t.submissions.filter(({v:u})=>u!==0).length,n=(h!==0?(100*_/h).toFixed(1):"0.0")+" %",H=t.submissions.filter(({t:u})=>u>=b.value).length,I=t.submissions.filter(({t:u,v:g})=>u>=b.value&&g!==0).length,J=t.contests.filter(({t:u})=>u>=b.value).length,A=t.submissions.filter(({v:u})=>u===1).sort((u,g)=>g.t-u.t),L=A.length>0?A[0].t:0;return j({subCount:h,okCount:_,okRate:n,recentSubCount:H,recentOkCount:I,recentContest:J,lastSolveTime:L},t)},$=W(()=>et.map(w)),B=m(t=>t.recentOkCount),S=m(t=>t.recentContest),p=m(t=>t.lastSolveTime),y=m(t=>t.recentSubCount),k=m(t=>t.okCount),v=m(t=>t.contests.length),D=m(t=>t.subCount),F=m(t=>Number.parseFloat(t.okRate)),G=tt(t=>t.name);function d(t){return Y(t,B,S,p,y,k,v,D,F,G)}return(t,h)=>(N(),E("div",nt,[at,a(e(st),{data:e($),cache:"members","default-sort":e(o),"default-sort-order":e(q)},{columns:r(({index:_,row:n})=>[a(e(c),{label:"#",width:"3em",align:"center"},{default:r(()=>[C("span",ut,l(_+1),1)]),_:2},1024),a(e(c),{label:"\u59D3\u540D"},{default:r(()=>[a(ot,{name:n.name},null,8,["name"])]),_:2},1024),a(e(c),{label:"\u6700\u8FD1\u901A\u8FC7",width:"7em",align:"right",sort:d(e(B))},{default:r(()=>[f(l(n.recentOkCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6700\u8FD1\u63D0\u4EA4",width:"7em",align:"right",sort:d(e(y))},{default:r(()=>[f(l(n.recentSubCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6700\u8FD1\u6BD4\u8D5B",width:"7em",align:"right",sort:d(e(S))},{default:r(()=>[f(l(n.recentContest),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6700\u65B0\u901A\u8FC7",width:"10em",align:"center",sort:d(e(p))},{default:r(()=>[n.lastSolveTime>0?(N(),E("span",rt,l(e(V)(n.lastSolveTime).value),1)):Z("v-if",!0)]),_:2},1032,["sort"]),a(e(c),{label:"\u901A\u8FC7",width:"6em",align:"right",sort:d(e(k))},{default:r(()=>[f(l(n.okCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u63D0\u4EA4",width:"6em",align:"right",sort:d(e(D))},{default:r(()=>[f(l(n.subCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u901A\u8FC7\u7387",width:"6em",align:"right",sort:d(e(F))},{default:r(()=>[f(l(n.okRate),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6BD4\u8D5B\u573A\u6B21",width:"7em",align:"right",sort:d(e(v))},{default:r(()=>[f(l(n.contests.length),1)]),_:2},1032,["sort"])]),_:1},8,["data","default-sort","default-sort-order"]),C("div",lt,[C("span",ct,"\u6700\u8FD1\u5F00\u59CB\u4E8E "+l(e(V)(b.value).value),1)])]))}});export{_t as default};
