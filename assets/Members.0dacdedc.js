var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;"undefined"!=typeof require&&require;import{u as o}from"./users.c296076b.js";import{C as r,a as n}from"./c-table.ae1d9ab1.js";import{_ as i}from"./user-link.vue_vue&type=script&setup=true&lang.68301820.js";import{b as u}from"./overview.11b03377.js";import{d as b,i as m,j as c,o as d,c as f,b as g,w as p,u as h,a as v,t as C,e as w,f as k,g as _}from"./index.af68f3a4.js";import"./load.b9090f49.js";const y={class:"divide-y"},j=v("h2",{class:"mb-4"},"成员",-1),O={class:"font-600"},S={key:0},x={class:"mt-4 pt-4"},T={class:"text-gray-400"};var R=b({setup(e){const b=m(u),R=e=>{const o=e.submissions.length,r=e.submissions.filter((({v:e})=>0!==e)).length,n=(0!==o?(100*r/o).toFixed(1):"0.0")+" %",i=e.submissions.filter((({t:e})=>e>=b.value)).length,u=e.submissions.filter((({t:e,v:t})=>e>=b.value&&0!==t)).length,m=e.contests.filter((({t:e})=>e>=b.value)).length,c=e.submissions.filter((({v:e})=>1===e)).sort(((e,t)=>t.t-e.t));return((e,o)=>{for(var r in o||(o={}))a.call(o,r)&&l(e,r,o[r]);if(t)for(var r of t(o))s.call(o,r)&&l(e,r,o[r]);return e})({subCount:o,okCount:r,okRate:n,recentSubCount:i,recentOkCount:u,recentContest:m,lastSolveTime:c.length>0?c[0].t:0},e)},F=c((()=>o.map(R))),P=(e,t)=>e.subCount-t.subCount,q=(e,t)=>e.okCount-t.okCount,N=(e,t)=>e.recentSubCount-t.recentSubCount,E=(e,t)=>e.recentOkCount-t.recentOkCount,I=(e,t)=>Number.parseFloat(e.okRate)-Number.parseFloat(t.okRate),z=(e,t)=>e.contests.length-t.contests.length,A=(e,t)=>e.recentContest-t.recentContest,B=(e,t)=>e.lastSolveTime-t.lastSolveTime;return(e,t)=>(d(),f("div",y,[j,g(h(n),{data:h(F),"default-sort":"最近通过","default-sort-order":"desc"},{columns:p((({index:e,row:t})=>[g(h(r),{label:"#",width:"3em",align:"center"},{default:p((()=>[v("span",O,C(e+1),1)])),_:2},1024),g(h(r),{label:"姓名"},{default:p((()=>[g(i,{name:t.name},null,8,["name"])])),_:2},1024),g(h(r),{label:"最近通过",width:"7em",align:"right",sort:E},{default:p((()=>[w(C(t.recentOkCount),1)])),_:2},1024),g(h(r),{label:"最近提交",width:"7em",align:"right",sort:N},{default:p((()=>[w(C(t.recentSubCount),1)])),_:2},1024),g(h(r),{label:"最近比赛",width:"7em",align:"right",sort:A},{default:p((()=>[w(C(t.recentContest),1)])),_:2},1024),g(h(r),{label:"最新通过",width:"10em",align:"center",sort:B},{default:p((()=>[t.lastSolveTime>0?(d(),f("span",S,C(h(k)(t.lastSolveTime).value),1)):_("v-if",!0)])),_:2},1024),g(h(r),{label:"通过",width:"6em",align:"right",sort:q},{default:p((()=>[w(C(t.okCount),1)])),_:2},1024),g(h(r),{label:"提交",width:"6em",align:"right",sort:P},{default:p((()=>[w(C(t.subCount),1)])),_:2},1024),g(h(r),{label:"通过率",width:"6em",align:"right",sort:I},{default:p((()=>[w(C(t.okRate),1)])),_:2},1024),g(h(r),{label:"比赛场次",width:"7em",align:"right",sort:z},{default:p((()=>[w(C(t.contests.length),1)])),_:2},1024)])),_:1},8,["data"]),v("div",x,[v("span",T,"最近开始于 "+C(h(k)(b.value).value),1)])]))}});export{R as default};
