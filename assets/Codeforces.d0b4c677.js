var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;"undefined"!=typeof require&&require;import{u as n}from"./users.dea16e4a.js";import{C as s,a as o}from"./c-table.c32b124e.js";import{_ as i}from"./user-link.vue_vue&type=script&setup=true&lang.96f7d3dc.js";import{_ as u}from"./cf-rating-color.vue_vue&type=script&setup=true&lang.6d4f2b0e.js";import{b as c}from"./overview.11b03377.js";import{d as f,i as d,j as g,o as h,c as m,b as v,w as p,u as b,a as _,t as y,e as C,f as w,g as j,q as k}from"./index.a9257d9d.js";import"./load.53ed3808.js";const O={class:"divide-y"},S=_("h2",{class:"mb-4"},"Codeforces",-1),D={class:"font-600"},T=["href"],x={key:0},A={class:"mt-4 pt-4"},q={class:"text-gray-400"};var P=f({setup(e){const f=d(c),P=e=>e.startsWith("codeforces"),E=e=>{const n=e.submissions.filter((({type:e})=>P(e))),s=n.length,o=n.filter((({v:e})=>1===e)).length,i=n.filter((({t:e})=>e>=f.value)).length,u=n.filter((({t:e,v:t})=>e>=f.value&&1===t)).length,c=e.contests.filter((({type:e,t:t})=>t>=f.value&&P(e))).length,d=n.filter((({t:e,v:t,d:a})=>e>=f.value&&1===t&&k(a))),g=d.reduce(((e,t)=>{var a;return e+(null!=(a=t.d)?a:0)}),0),h=Math.ceil(d.length>0?g/d.length:0),m=n.filter((({v:e})=>1===e)).sort(((e,t)=>t.t-e.t)),v=m.length>0?m[0].t:0,p=e.handles.filter((e=>P(e.type)));let b=p.length>0?p[0]:"";return((e,n)=>{for(var s in n||(n={}))a.call(n,s)&&l(e,s,n[s]);if(t)for(var s of t(n))r.call(n,s)&&l(e,s,n[s]);return e})({subCount:s,okCount:o,recentSubCount:i,recentOkCount:u,recentContest:c,recentDiffcult:g,recentAvgDiffcult:h,lastSolveTime:v,rating:p.reduce(((e,t)=>{const a=t;return a.codeforces.rating>e?(b=a.handle,a.codeforces.rating):e}),0),handle:b},e)},H=g((()=>n.map(E))),I=(e,t)=>e.rating-t.rating,M=(e,t)=>e.okCount-t.okCount,R=(e,t)=>e.recentOkCount-t.recentOkCount,W=(e,t)=>e.recentAvgDiffcult-t.recentAvgDiffcult,$=(e,t)=>e.contests.length-t.contests.length,z=(e,t)=>e.recentContest-t.recentContest,B=(e,t)=>e.lastSolveTime-t.lastSolveTime;return(e,t)=>(h(),m("div",O,[S,v(b(o),{data:b(H),"default-sort":"最近通过","default-sort-order":"desc"},{columns:p((({index:e,row:t})=>[v(b(s),{label:"#",width:"3em",align:"center"},{default:p((()=>[_("span",D,y(e+1),1)])),_:2},1024),v(b(s),{label:"姓名"},{default:p((()=>[v(i,{name:t.name},null,8,["name"])])),_:2},1024),v(b(s),{label:"Handle"},{default:p((()=>[_("a",{href:`https://codeforces.com/profile/${t.handle}`,target:"_blank"},[v(b(u),{rating:t.rating},{default:p((()=>[C(y(t.handle),1)])),_:2},1032,["rating"])],8,T)])),_:2},1024),v(b(s),{label:"Rating",sort:I,align:"right"},{default:p((()=>[v(b(u),{rating:t.rating},{default:p((()=>[C(y(t.rating),1)])),_:2},1032,["rating"])])),_:2},1024),v(b(s),{label:"最近通过",width:"7em",align:"right",sort:R},{default:p((()=>[C(y(t.recentOkCount),1)])),_:2},1024),v(b(s),{label:"最近平均难度",width:"10em",align:"right",sort:W},{default:p((()=>[C(y(t.recentAvgDiffcult),1)])),_:2},1024),v(b(s),{label:"最近比赛",width:"7em",align:"right",sort:z},{default:p((()=>[C(y(t.recentContest),1)])),_:2},1024),v(b(s),{label:"最新通过",width:"10em",align:"center",sort:B},{default:p((()=>[t.lastSolveTime>0?(h(),m("span",x,y(b(w)(t.lastSolveTime).value),1)):j("v-if",!0)])),_:2},1024),v(b(s),{label:"通过",width:"6em",align:"right",sort:M},{default:p((()=>[C(y(t.okCount),1)])),_:2},1024),v(b(s),{label:"比赛场次",width:"7em",align:"right",sort:$},{default:p((()=>[C(y(t.contests.length),1)])),_:2},1024)])),_:1},8,["data"]),_("div",A,[_("span",q,"最近开始于 "+y(b(w)(f.value).value),1)])]))}});export{P as default};
